import e,{useState as t,useCallback as s,useEffect as o,forwardRef as n,useRef as a}from"react";var i="ZestResponsiveLayout-module_container__k49st",d="ZestResponsiveLayout-module_detailPane__pO970",l="ZestResponsiveLayout-module_detailOverlay__dhWFF",r="ZestResponsiveLayout-module_detailOverlayVisible__A-h6v",u="ZestResponsiveLayout-module_sidePane__HlT8j",c="ZestResponsiveLayout-module_sidePaneHidden__b2zEc",m="ZestResponsiveLayout-module_desktopPane__e1DSl",p="ZestResponsiveLayout-module_mobileOverlay__45-AL",v="ZestResponsiveLayout-module_bounce__oGhCz",_="ZestResponsiveLayout-module_sidePaneHeader__YnhoV",y="ZestResponsiveLayout-module_closeButton__ughAe",h="ZestResponsiveLayout-module_sidePaneContent__euCnx";!function(e,t){void 0===t&&(t={});var s=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===s&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}(".ZestResponsiveLayout-module_container__k49st{display:flex;height:100%;overflow:hidden;position:relative;width:100%}.ZestResponsiveLayout-module_detailPane__pO970{overflow:auto;position:relative}.ZestResponsiveLayout-module_detailOverlay__dhWFF{background-color:rgba(15,23,42,.4);bottom:0;cursor:pointer;left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .25s ease;z-index:10}.ZestResponsiveLayout-module_detailOverlayVisible__A-h6v{opacity:1;pointer-events:auto}.ZestResponsiveLayout-module_sidePane__HlT8j{background:#fff;box-shadow:0 0 8px rgba(0,0,0,.05);display:flex;flex-direction:column;overflow:hidden;transition:transform .25s ease,opacity .25s ease}.ZestResponsiveLayout-module_sidePaneHidden__b2zEc{opacity:0;pointer-events:none;transform:translateX(100%)}.ZestResponsiveLayout-module_desktopPane__e1DSl{border-left:1px solid #e0e0e0;transition:width .25s ease,margin-left .25s ease,transform .25s ease,opacity .25s ease}.ZestResponsiveLayout-module_mobileOverlay__45-AL{bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);position:fixed;right:env(safe-area-inset-right);top:env(safe-area-inset-top);z-index:1000}.ZestResponsiveLayout-module_bounce__oGhCz{animation:ZestResponsiveLayout-module_bounceIn__etoIa .3s ease forwards}@keyframes ZestResponsiveLayout-module_bounceIn__etoIa{0%{transform:translateX(100%)}60%{transform:translateX(-10%)}80%{transform:translateX(5%)}to{transform:translateX(0)}}.ZestResponsiveLayout-module_sidePaneHeader__YnhoV{align-items:center;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:.5rem 1rem}.ZestResponsiveLayout-module_closeButton__ughAe{background:none;border:none;cursor:pointer;font-size:1.2rem;transition:transform .15s ease,color .15s ease}.ZestResponsiveLayout-module_closeButton__ughAe:hover{color:#555;transform:scale(1.1)}.ZestResponsiveLayout-module_closeButton__ughAe:active{color:#333;transform:scale(.95)}.ZestResponsiveLayout-module_sidePaneContent__euCnx{flex:1;overflow:auto;padding:1rem}");const f=({children:t,isMobile:s,isSidePaneVisible:o,sideWidth:n,desktopDetailPaneWidth:a,hydrated:i,enableDesktopOverlay:u=!0,onOverlayClick:c})=>{const m=!s&&o&&u;return e.createElement("div",{className:d,style:{flex:!s&&o&&a?`0 0 ${a}`:"1 1 100%",opacity:i&&!s?1:void 0,transition:i?"flex 250ms ease, opacity 250ms ease":void 0}},t,e.createElement("div",{className:`${l} ${m?r:""}`,onClick:c,"aria-hidden":"true"}))},b=n(({visible:t,pane:s,title:o,onClose:n,keepMounted:a=!1,isMobile:i,enableBounceAnimation:d,hydrated:l,sideWidth:r,className:f,style:b},L)=>e.createElement("div",{ref:L,className:`${u} ${i?p:m} ${d&&l&&t?v:""} ${t?"":c} ${f||""}`,style:Object.assign(Object.assign({},b),{width:i?"100%":r,marginLeft:i||t?"0":`calc(-1 * ${r})`,flexShrink:0})},(t||a)&&e.createElement(e.Fragment,null,o&&e.createElement("div",{className:_},o,n&&e.createElement("button",{className:y,onClick:n},"×")),!o&&n&&e.createElement("button",{className:y,onClick:n},"×"),e.createElement("div",{className:h},s))));b.displayName="SidePane";const L=({children:n,detailPane:d,sidePane:l,sidePaneWidth:r,desktopSidePaneWidth:u,desktopDetailPaneWidth:c,enableBounceAnimation:m=!0,mobileBreakpointPx:p=768,enableDesktopOverlay:v=!0,closeOnDesktopOverlayClick:_=!0,className:y,style:h})=>{const L=a(null),R=(()=>{const[e,s]=t(!1);return o(()=>{s(!0)},[]),e})(),Z=((e=768)=>{const[n,a]=t(!1),i=s(()=>{const t="undefined"!=typeof window&&parseFloat(getComputedStyle(document.documentElement).fontSize)||16;a(window.innerWidth/t<=e/t)},[e]);return o(()=>{if("undefined"!=typeof window)return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[i]),n})(p);o(()=>{"production"!==process.env.NODE_ENV&&(d&&console.warn("[Zest] 'detailPane' is deprecated. Use 'children' instead."),l.pane&&console.warn("[Zest] 'sidePane.pane' is deprecated. Use 'sidePane.content' instead."),u&&console.warn("[Zest] 'desktopSidePaneWidth' is deprecated. Use 'sidePaneWidth' instead."),l.widthRems&&console.warn("[Zest] 'sidePane.widthRems' is deprecated. Use 'sidePaneWidth' instead."))},[d,l.pane,u,l.widthRems]);const w=n||d,P=l.content||l.pane,k=l.widthRems?`${l.widthRems}rem`:r||u||"25%";((e,t,s=!0)=>{o(()=>{if(!s)return;const o=s=>{e.current&&!e.current.contains(s.target)&&t()};return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e,t,s])})(L,()=>{var e;return null===(e=l.onClose)||void 0===e?void 0:e.call(l)},l.visible&&Z);return e.createElement("div",{className:`${i} ${y||""}`,style:h},e.createElement(f,{isMobile:Z,isSidePaneVisible:l.visible,sideWidth:k,desktopDetailPaneWidth:c,hydrated:R,enableDesktopOverlay:v,onOverlayClick:()=>{var e;_&&(null===(e=l.onClose)||void 0===e||e.call(l))}},w),e.createElement(b,{ref:L,visible:l.visible,pane:P,title:l.title,onClose:l.onClose,keepMounted:l.keepMounted,isMobile:Z,enableBounceAnimation:m,hydrated:R,sideWidth:k,className:l.className,style:l.style}))};export{L as ZestResponsiveLayout};
//# sourceMappingURL=ZestResponsiveLayout.esm.js.map
