import e,{useState as t,useCallback as o,useEffect as n,forwardRef as s,useRef as a}from"react";var i="ZestResponsiveLayout-module_container__k49st",l="ZestResponsiveLayout-module_detailPane__pO970",d="ZestResponsiveLayout-module_detailOverlay__dhWFF",r="ZestResponsiveLayout-module_detailOverlayVisible__A-h6v",u="ZestResponsiveLayout-module_sidePane__HlT8j",m="ZestResponsiveLayout-module_sidePaneHidden__b2zEc",c="ZestResponsiveLayout-module_desktopPane__e1DSl",p="ZestResponsiveLayout-module_mobileOverlay__45-AL",v="ZestResponsiveLayout-module_bounce__oGhCz",_="ZestResponsiveLayout-module_sidePaneHeader__YnhoV",y="ZestResponsiveLayout-module_closeButton__ughAe",f="ZestResponsiveLayout-module_sidePaneContent__euCnx";!function(e,t){void 0===t&&(t={});var o=t.insertAt;if("undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css","top"===o&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}(".ZestResponsiveLayout-module_container__k49st{display:flex;height:100%;overflow:hidden;position:relative;width:100%}.ZestResponsiveLayout-module_detailPane__pO970{overflow:auto;position:relative}.ZestResponsiveLayout-module_detailOverlay__dhWFF{background-color:rgba(15,23,42,.4);bottom:0;cursor:pointer;left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .25s ease;z-index:10}.ZestResponsiveLayout-module_detailOverlayVisible__A-h6v{opacity:1;pointer-events:auto}.ZestResponsiveLayout-module_sidePane__HlT8j{background:#fff;box-shadow:0 0 8px rgba(0,0,0,.05);display:flex;flex-direction:column;overflow:hidden;transition:transform .25s ease,opacity .25s ease}.ZestResponsiveLayout-module_sidePaneHidden__b2zEc{opacity:0;pointer-events:none;transform:translateX(100%)}.ZestResponsiveLayout-module_desktopPane__e1DSl{border-left:1px solid #e0e0e0;transition:width .25s ease,transform .25s ease,opacity .25s ease}.ZestResponsiveLayout-module_mobileOverlay__45-AL{bottom:env(safe-area-inset-bottom);left:env(safe-area-inset-left);position:fixed;right:env(safe-area-inset-right);top:env(safe-area-inset-top);z-index:1000}.ZestResponsiveLayout-module_bounce__oGhCz{animation:ZestResponsiveLayout-module_bounceIn__etoIa .3s ease forwards}@keyframes ZestResponsiveLayout-module_bounceIn__etoIa{0%{transform:translateX(100%)}60%{transform:translateX(-10%)}80%{transform:translateX(5%)}to{transform:translateX(0)}}.ZestResponsiveLayout-module_sidePaneHeader__YnhoV{align-items:center;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:.5rem 1rem}.ZestResponsiveLayout-module_closeButton__ughAe{background:none;border:none;cursor:pointer;font-size:1.2rem;transition:transform .15s ease,color .15s ease}.ZestResponsiveLayout-module_closeButton__ughAe:hover{color:#555;transform:scale(1.1)}.ZestResponsiveLayout-module_closeButton__ughAe:active{color:#333;transform:scale(.95)}.ZestResponsiveLayout-module_sidePaneContent__euCnx{flex:1;overflow:auto;padding:1rem}");const h=({children:t,isMobile:o,isSidePaneVisible:n,sideWidth:s,desktopDetailPaneWidth:a,hydrated:i,enableDesktopOverlay:u=!0,onOverlayClick:m})=>{const c=a||`calc(100% - ${s})`,p=!o&&n&&u;return e.createElement("div",{className:l,style:{flex:!o&&n?`0 0 ${c}`:"1 1 100%",opacity:i&&!o?1:void 0,transition:i?"flex 250ms ease, opacity 250ms ease":void 0}},t,e.createElement("div",{className:`${d} ${p?r:""}`,onClick:m,"aria-hidden":"true"}))},b=s(({visible:t,pane:o,title:n,onClose:s,keepMounted:a=!1,isMobile:i,enableBounceAnimation:l,hydrated:d,sideWidth:r},h)=>e.createElement("div",{ref:h,className:`${u} ${i?p:c} ${l&&d&&t?v:""} ${t?"":m}`,style:{width:i?"100%":r}},(t||a)&&e.createElement(e.Fragment,null,n&&e.createElement("div",{className:_},n,s&&e.createElement("button",{className:y,onClick:s},"×")),!n&&s&&e.createElement("button",{className:y,onClick:s},"×"),e.createElement("div",{className:f},o))));b.displayName="SidePane";const L=({sidePane:s,detailPane:l,desktopSidePaneWidth:d,desktopDetailPaneWidth:r,enableBounceAnimation:u=!0,mobileBreakpointPx:m=768,enableDesktopOverlay:c=!0,closeOnDesktopOverlayClick:p=!0})=>{const v=a(null),_=(()=>{const[e,o]=t(!1);return n(()=>{o(!0)},[]),e})(),y=((e=768)=>{const[s,a]=t(!1),i=o(()=>{const t="undefined"!=typeof window&&parseFloat(getComputedStyle(document.documentElement).fontSize)||16;a(window.innerWidth/t<=e/t)},[e]);return n(()=>{if("undefined"!=typeof window)return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[i]),s})(m);((e,t,o=!0)=>{n(()=>{if(!o)return;const n=o=>{e.current&&!e.current.contains(o.target)&&t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e,t,o])})(v,()=>{var e;return null===(e=s.onClose)||void 0===e?void 0:e.call(s)},s.visible&&y);const f=s.widthRems?`${s.widthRems}rem`:d||"25%";return e.createElement("div",{className:i},e.createElement(h,{isMobile:y,isSidePaneVisible:s.visible,sideWidth:f,desktopDetailPaneWidth:r,hydrated:_,enableDesktopOverlay:c,onOverlayClick:()=>{var e;p&&(null===(e=s.onClose)||void 0===e||e.call(s))}},l),e.createElement(b,{ref:v,visible:s.visible,pane:s.pane,title:s.title,onClose:s.onClose,keepMounted:s.keepMounted,isMobile:y,enableBounceAnimation:u,hydrated:_,sideWidth:f}))};export{L as ZestResponsiveLayout};
//# sourceMappingURL=ZestResponsiveLayout.esm.js.map
