{"version":3,"file":"ZestResponsiveLayout.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/hooks/useIsMobile.ts","../src/UI/DetailPane.tsx","../src/UI/SidePane.tsx","../src/UI/ZestResponsiveLayout.tsx","../src/hooks/useIsHydrated.ts","../src/hooks/useOutsideClick.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { useState, useEffect, useCallback } from \"react\";\r\n\r\n/**\r\n * Hook to detect if the viewport is within the mobile range.\r\n * Uses REM-based calculations for consistency with CSS media queries.\r\n * \r\n * @param breakpointPx The pixel width at which to switch to mobile view.\r\n */\r\nexport const useIsMobile = (breakpointPx: number = 768): boolean => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  const handleResize = useCallback(() => {\r\n    // We use getComputedStyle to handle cases where the base font-size isn't 16px\r\n    const rem = typeof window !== \"undefined\" \r\n      ? parseFloat(getComputedStyle(document.documentElement).fontSize) || 16 \r\n      : 16;\r\n    \r\n    setIsMobile(window.innerWidth / rem <= breakpointPx / rem);\r\n  }, [breakpointPx]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    handleResize();\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [handleResize]);\r\n\r\n  return isMobile;\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\n\r\ninterface DetailPaneProps {\r\n  children: React.ReactNode;\r\n  isMobile: boolean;\r\n  isSidePaneVisible: boolean;\r\n  sideWidth: string;\r\n  desktopDetailPaneWidth?: string;\r\n  hydrated: boolean;\r\n  enableDesktopOverlay?: boolean;\r\n  onOverlayClick?: () => void;\r\n}\r\n\r\nexport const DetailPane: React.FC<DetailPaneProps> = ({\r\n  children,\r\n  isMobile,\r\n  isSidePaneVisible,\r\n  sideWidth,\r\n  desktopDetailPaneWidth,\r\n  hydrated,\r\n  enableDesktopOverlay = true,\r\n  onOverlayClick,\r\n}) => {\r\n  const flexBasis = desktopDetailPaneWidth || `calc(100% - ${sideWidth})`;\r\n  const showOverlay = !isMobile && isSidePaneVisible && enableDesktopOverlay;\r\n\r\n  return (\r\n    <div\r\n      className={styles.detailPane}\r\n      style={{\r\n        flex:\r\n          !isMobile && isSidePaneVisible\r\n            ? `0 0 ${flexBasis}`\r\n            : \"1 1 100%\",\r\n        opacity: hydrated && !isMobile ? 1 : undefined,\r\n        transition: hydrated\r\n          ? \"flex 250ms ease, opacity 250ms ease\"\r\n          : undefined,\r\n      }}\r\n    >\r\n      {children}\r\n      <div \r\n        className={`${styles.detailOverlay} ${showOverlay ? styles.detailOverlayVisible : \"\"}`} \r\n        onClick={onOverlayClick} \r\n        aria-hidden=\"true\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { forwardRef } from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\n\r\ninterface SidePaneProps {\r\n  visible: boolean;\r\n  pane: React.ReactNode;\r\n  title?: React.ReactNode;\r\n  onClose?: () => void;\r\n  keepMounted?: boolean;\r\n  isMobile: boolean;\r\n  enableBounceAnimation: boolean;\r\n  hydrated: boolean;\r\n  sideWidth: string;\r\n}\r\n\r\nexport const SidePane = forwardRef<HTMLDivElement, SidePaneProps>(\r\n  (\r\n    {\r\n      visible,\r\n      pane,\r\n      title,\r\n      onClose,\r\n      keepMounted = false,\r\n      isMobile,\r\n      enableBounceAnimation,\r\n      hydrated,\r\n      sideWidth,\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={`${styles.sidePane} ${\r\n          isMobile ? styles.mobileOverlay : styles.desktopPane\r\n        } ${enableBounceAnimation && hydrated && visible ? styles.bounce : \"\"} ${\r\n          !visible ? styles.sidePaneHidden : \"\"\r\n        }`}\r\n        style={{\r\n          width: isMobile ? \"100%\" : sideWidth,\r\n        }}\r\n      >\r\n        {(visible || keepMounted) && (\r\n          <>\r\n            {title && (\r\n              <div className={styles.sidePaneHeader}>\r\n                {title}\r\n                {onClose && (\r\n                  <button className={styles.closeButton} onClick={onClose}>\r\n                    ×\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n            {!title && onClose && (\r\n              <button className={styles.closeButton} onClick={onClose}>\r\n                ×\r\n              </button>\r\n            )}\r\n            <div className={styles.sidePaneContent}>{pane}</div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nSidePane.displayName = \"SidePane\";\r\n","import React, { useRef } from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\nimport { useIsMobile } from \"../hooks/useIsMobile\";\r\nimport { useIsHydrated } from \"../hooks/useIsHydrated\";\r\nimport { useOutsideClick } from \"../hooks/useOutsideClick\";\r\nimport { DetailPane } from \"./DetailPane\";\r\nimport { SidePane } from \"./SidePane\";\r\n\r\nexport interface IProps {\r\n  sidePane: {\r\n    visible: boolean;\r\n    widthRems?: number;\r\n    pane: React.ReactNode;\r\n    title?: React.ReactNode;\r\n    onClose?: () => void;\r\n    keepMounted?: boolean;\r\n  };\r\n  detailPane: React.ReactNode;\r\n  desktopSidePaneWidth?: string;\r\n  desktopDetailPaneWidth?: string;\r\n  enableBounceAnimation?: boolean;\r\n  mobileBreakpointPx?: number;\r\n  enableDesktopOverlay?: boolean;\r\n  closeOnDesktopOverlayClick?: boolean;\r\n}\r\n\r\nexport const ZestResponsiveLayout: React.FC<IProps> = ({\r\n  sidePane,\r\n  detailPane,\r\n  desktopSidePaneWidth,\r\n  desktopDetailPaneWidth,\r\n  enableBounceAnimation = true,\r\n  mobileBreakpointPx = 768,\r\n  enableDesktopOverlay = true,\r\n  closeOnDesktopOverlayClick = true,\r\n}) => {\r\n  const overlayRef = useRef<HTMLDivElement>(null);\r\n  \r\n  const hydrated = useIsHydrated();\r\n  const isMobile = useIsMobile(mobileBreakpointPx);\r\n  \r\n  useOutsideClick(\r\n    overlayRef, \r\n    () => sidePane.onClose?.(), \r\n    sidePane.visible && isMobile\r\n  );\r\n\r\n  const handleOverlayClick = () => {\r\n    if (closeOnDesktopOverlayClick) {\r\n      sidePane.onClose?.();\r\n    }\r\n  };\r\n\r\n  const sideWidth = sidePane.widthRems\r\n    ? `${sidePane.widthRems}rem`\r\n    : desktopSidePaneWidth || \"25%\";\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <DetailPane\r\n        isMobile={isMobile}\r\n        isSidePaneVisible={sidePane.visible}\r\n        sideWidth={sideWidth}\r\n        desktopDetailPaneWidth={desktopDetailPaneWidth}\r\n        hydrated={hydrated}\r\n        enableDesktopOverlay={enableDesktopOverlay}\r\n        onOverlayClick={handleOverlayClick}\r\n      >\r\n        {detailPane}\r\n      </DetailPane>\r\n\r\n      <SidePane\r\n        ref={overlayRef}\r\n        visible={sidePane.visible}\r\n        pane={sidePane.pane}\r\n        title={sidePane.title}\r\n        onClose={sidePane.onClose}\r\n        keepMounted={sidePane.keepMounted}\r\n        isMobile={isMobile}\r\n        enableBounceAnimation={enableBounceAnimation}\r\n        hydrated={hydrated}\r\n        sideWidth={sideWidth}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Hook to detect if the component has hydrated on the client.\r\n * Useful for preventing SSR mismatches and enabling animations only after mount.\r\n */\r\nexport const useIsHydrated = (): boolean => {\r\n  const [hydrated, setHydrated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setHydrated(true);\r\n  }, []);\r\n\r\n  return hydrated;\r\n};\r\n","import { useEffect, RefObject } from \"react\";\r\n\r\n/**\r\n * Hook to detect clicks outside of a specified element.\r\n * \r\n * @param ref React ref of the element to watch.\r\n * @param callback Function to call when an outside click is detected.\r\n * @param active Boolean to enable/disable the listener.\r\n */\r\nexport const useOutsideClick = (\r\n  ref: RefObject<HTMLElement>,\r\n  callback: () => void,\r\n  active: boolean = true\r\n): void => {\r\n  useEffect(() => {\r\n    if (!active) return;\r\n\r\n    const handleOutsideClick = (event: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleOutsideClick);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\r\n    };\r\n  }, [ref, callback, active]);\r\n};\r\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","DetailPane","children","isMobile","isSidePaneVisible","sideWidth","desktopDetailPaneWidth","hydrated","enableDesktopOverlay","onOverlayClick","flexBasis","showOverlay","React","className","styles","flex","opacity","undefined","transition","onClick","SidePane","forwardRef","visible","pane","title","onClose","keepMounted","enableBounceAnimation","width","Fragment","displayName","ZestResponsiveLayout","sidePane","detailPane","desktopSidePaneWidth","mobileBreakpointPx","closeOnDesktopOverlayClick","overlayRef","useRef","setHydrated","useState","useEffect","useIsHydrated","breakpointPx","setIsMobile","handleResize","useCallback","rem","window","parseFloat","getComputedStyle","documentElement","fontSize","innerWidth","addEventListener","removeEventListener","useIsMobile","callback","active","handleOutsideClick","event","current","contains","target","useOutsideClick","_a","call","widthRems"],"mappings":"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","x_google_ignoreList":[0]}