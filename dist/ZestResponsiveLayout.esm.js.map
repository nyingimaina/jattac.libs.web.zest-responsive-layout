{"version":3,"file":"ZestResponsiveLayout.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/hooks/useIsMobile.ts","../src/UI/DetailPane.tsx","../src/UI/SidePane.tsx","../src/UI/ZestResponsiveLayout.tsx","../src/hooks/useIsHydrated.ts","../src/hooks/useOutsideClick.ts"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { useState, useEffect, useCallback } from \"react\";\r\n\r\n/**\r\n * Hook to detect if the viewport is within the mobile range.\r\n * Uses REM-based calculations for consistency with CSS media queries.\r\n * \r\n * @param breakpointPx The pixel width at which to switch to mobile view.\r\n */\r\nexport const useIsMobile = (breakpointPx: number = 768): boolean => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  const handleResize = useCallback(() => {\r\n    // We use getComputedStyle to handle cases where the base font-size isn't 16px\r\n    const rem = typeof window !== \"undefined\" \r\n      ? parseFloat(getComputedStyle(document.documentElement).fontSize) || 16 \r\n      : 16;\r\n    \r\n    setIsMobile(window.innerWidth / rem <= breakpointPx / rem);\r\n  }, [breakpointPx]);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === \"undefined\") return;\r\n\r\n    handleResize();\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [handleResize]);\r\n\r\n  return isMobile;\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\n\r\ninterface DetailPaneProps {\r\n  children: React.ReactNode;\r\n  sideWidth: string;\r\n  desktopDetailPaneWidth?: string;\r\n  hydrated: boolean;\r\n  isMobile: boolean;\r\n  isSidePaneVisible: boolean;\r\n  enableDesktopOverlay: boolean;\r\n}\r\n\r\nexport const DetailPane: React.FC<DetailPaneProps> = ({\r\n  children,\r\n  sideWidth,\r\n  desktopDetailPaneWidth,\r\n  hydrated,\r\n  isMobile,\r\n  isSidePaneVisible,\r\n  enableDesktopOverlay,\r\n}) => {\r\n  const isLocked = !isMobile && isSidePaneVisible && enableDesktopOverlay;\r\n\r\n  return (\r\n    <div\r\n      className={styles.detailPane}\r\n      style={{\r\n        flex:\r\n          !isMobile && isSidePaneVisible && desktopDetailPaneWidth\r\n            ? `0 0 ${desktopDetailPaneWidth}`\r\n            : \"1 1 100%\",\r\n        opacity: hydrated && !isMobile ? 1 : undefined,\r\n        transition: hydrated\r\n          ? \"flex 250ms ease, opacity 250ms ease\"\r\n          : undefined,\r\n        overflow: isLocked ? \"hidden\" : \"auto\",\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n","import React, { forwardRef } from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\n\r\ninterface SidePaneProps {\r\n  visible: boolean;\r\n  pane: React.ReactNode;\r\n  title?: React.ReactNode;\r\n  onClose?: () => void;\r\n  keepMounted?: boolean;\r\n  isMobile: boolean;\r\n  enableBounceAnimation: boolean;\r\n  hydrated: boolean;\r\n  sideWidth: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\nexport const SidePane = forwardRef<HTMLDivElement, SidePaneProps>(\r\n  (\r\n    {\r\n      visible,\r\n      pane,\r\n      title,\r\n      onClose,\r\n      keepMounted = false,\r\n      isMobile,\r\n      enableBounceAnimation,\r\n      hydrated,\r\n      sideWidth,\r\n      className,\r\n      style,\r\n    },\r\n    ref\r\n  ) => {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={`${styles.sidePane} ${\r\n          isMobile ? styles.mobileOverlay : styles.desktopPane\r\n        } ${enableBounceAnimation && hydrated && visible ? styles.bounce : \"\"} ${\r\n          !visible ? styles.sidePaneHidden : \"\"\r\n        } ${className || \"\"}`}\r\n        style={{\r\n          ...style,\r\n          width: isMobile ? \"100%\" : sideWidth,\r\n          marginLeft: !isMobile && !visible ? `calc(-1 * ${sideWidth})` : \"0\",\r\n          flexShrink: 0,\r\n        }}\r\n      >\r\n        {(visible || keepMounted) && (\r\n          <>\r\n            {title && (\r\n              <div className={styles.sidePaneHeader}>\r\n                {title}\r\n                {onClose && (\r\n                  <button className={styles.closeButton} onClick={onClose}>\r\n                    ×\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n            {!title && onClose && (\r\n              <button className={styles.closeButton} onClick={onClose}>\r\n                ×\r\n              </button>\r\n            )}\r\n            <div className={styles.sidePaneContent}>{pane}</div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\nSidePane.displayName = \"SidePane\";\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\nimport { useIsMobile } from \"../hooks/useIsMobile\";\r\nimport { useIsHydrated } from \"../hooks/useIsHydrated\";\r\nimport { useOutsideClick } from \"../hooks/useOutsideClick\";\r\nimport { DetailPane } from \"./DetailPane\";\r\nimport { SidePane } from \"./SidePane\";\r\n\r\nexport interface IProps {\r\n  /** \r\n   * Main content area. \r\n   * @preferred Use children instead of detailPane. \r\n   */\r\n  children?: React.ReactNode;\r\n  /** @deprecated Use children. */\r\n  detailPane?: React.ReactNode;\r\n\r\n  sidePane: {\r\n    visible: boolean;\r\n    /** Sidebar content. @preferred Use content instead of pane. */\r\n    content?: React.ReactNode;\r\n    /** @deprecated Use content. */\r\n    pane?: React.ReactNode;\r\n    title?: React.ReactNode;\r\n    onClose?: () => void;\r\n    keepMounted?: boolean;\r\n    /** @legacy Use sidePaneWidth. */\r\n    widthRems?: number;\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n  };\r\n\r\n  /** Preferred way to set sidebar width (e.g., '300px', '25%'). */\r\n  sidePaneWidth?: string;\r\n  /** @deprecated Use sidePaneWidth. */\r\n  desktopSidePaneWidth?: string;\r\n  /** @deprecated Use Flexbox properties or container styling instead. */\r\n  desktopDetailPaneWidth?: string;\r\n\r\n  enableBounceAnimation?: boolean;\r\n  mobileBreakpointPx?: number;\r\n  enableDesktopOverlay?: boolean;\r\n  closeOnDesktopOverlayClick?: boolean;\r\n  \r\n  /** Custom class for the root container. */\r\n  className?: string;\r\n  /** Custom style for the root container. */\r\n  style?: React.CSSProperties;\r\n}\r\n\r\n/**\r\n * ZestResponsiveLayout (v2.0.0)\r\n * A highly performant responsive layout with a dynamic side pane.\r\n * Now supports standard React 'children' and improved styling hooks.\r\n */\r\nexport const ZestResponsiveLayout: React.FC<IProps> = ({\r\n  children,\r\n  detailPane,\r\n  sidePane,\r\n  sidePaneWidth,\r\n  desktopSidePaneWidth,\r\n  desktopDetailPaneWidth,\r\n  enableBounceAnimation = true,\r\n  mobileBreakpointPx = 768,\r\n  enableDesktopOverlay = true,\r\n  closeOnDesktopOverlayClick = false,\r\n  className,\r\n  style,\r\n}) => {\r\n  const overlayRef = useRef<HTMLDivElement>(null);\r\n  const hydrated = useIsHydrated();\r\n  const isMobile = useIsMobile(mobileBreakpointPx);\r\n\r\n  // --- Compat Layer / Deprecation Warnings ---\r\n  useEffect(() => {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      if (detailPane) console.warn(\"[Zest] 'detailPane' is deprecated. Use 'children' instead.\");\r\n      if (sidePane.pane) console.warn(\"[Zest] 'sidePane.pane' is deprecated. Use 'sidePane.content' instead.\");\r\n      if (desktopSidePaneWidth) console.warn(\"[Zest] 'desktopSidePaneWidth' is deprecated. Use 'sidePaneWidth' instead.\");\r\n      if (sidePane.widthRems) console.warn(\"[Zest] 'sidePane.widthRems' is deprecated. Use 'sidePaneWidth' instead.\");\r\n    }\r\n  }, [detailPane, sidePane.pane, desktopSidePaneWidth, sidePane.widthRems]);\r\n\r\n  // --- Prop Aliasing (Polyfill) ---\r\n  const finalContent = children || detailPane;\r\n  const sideContent = sidePane.content || sidePane.pane;\r\n  const sideWidth = sidePane.widthRems\r\n    ? `${sidePane.widthRems}rem`\r\n    : (sidePaneWidth || desktopSidePaneWidth || \"25%\");\r\n\r\n  useOutsideClick(\r\n    overlayRef, \r\n    () => sidePane.onClose?.(), \r\n    sidePane.visible && isMobile\r\n  );\r\n\r\n  const handleOverlayClick = () => {\r\n    if (closeOnDesktopOverlayClick) {\r\n      sidePane.onClose?.();\r\n    }\r\n  };\r\n\r\n  const showOverlay = !isMobile && sidePane.visible && enableDesktopOverlay;\r\n\r\n  return (\r\n    <div \r\n      className={`${styles.container} ${className || \"\"}`} \r\n      style={style}\r\n    >\r\n      <DetailPane\r\n        isMobile={isMobile}\r\n        isSidePaneVisible={sidePane.visible}\r\n        sideWidth={sideWidth}\r\n        desktopDetailPaneWidth={desktopDetailPaneWidth}\r\n        hydrated={hydrated}\r\n        enableDesktopOverlay={enableDesktopOverlay}\r\n      >\r\n        {finalContent}\r\n      </DetailPane>\r\n\r\n      <div \r\n        className={`${styles.detailOverlay} ${showOverlay ? styles.detailOverlayVisible : \"\"}`} \r\n        onClick={handleOverlayClick} \r\n        aria-hidden=\"true\"\r\n      />\r\n\r\n      <SidePane\r\n        ref={overlayRef}\r\n        visible={sidePane.visible}\r\n        pane={sideContent}\r\n        title={sidePane.title}\r\n        onClose={sidePane.onClose}\r\n        keepMounted={sidePane.keepMounted}\r\n        isMobile={isMobile}\r\n        enableBounceAnimation={enableBounceAnimation}\r\n        hydrated={hydrated}\r\n        sideWidth={sideWidth}\r\n        className={sidePane.className}\r\n        style={sidePane.style}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * Hook to detect if the component has hydrated on the client.\r\n * Useful for preventing SSR mismatches and enabling animations only after mount.\r\n */\r\nexport const useIsHydrated = (): boolean => {\r\n  const [hydrated, setHydrated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setHydrated(true);\r\n  }, []);\r\n\r\n  return hydrated;\r\n};\r\n","import { useEffect, RefObject } from \"react\";\r\n\r\n/**\r\n * Hook to detect clicks outside of a specified element.\r\n * \r\n * @param ref React ref of the element to watch.\r\n * @param callback Function to call when an outside click is detected.\r\n * @param active Boolean to enable/disable the listener.\r\n */\r\nexport const useOutsideClick = (\r\n  ref: RefObject<HTMLElement>,\r\n  callback: () => void,\r\n  active: boolean = true\r\n): void => {\r\n  useEffect(() => {\r\n    if (!active) return;\r\n\r\n    const handleOutsideClick = (event: MouseEvent) => {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleOutsideClick);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\r\n    };\r\n  }, [ref, callback, active]);\r\n};\r\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","DetailPane","children","sideWidth","desktopDetailPaneWidth","hydrated","isMobile","isSidePaneVisible","enableDesktopOverlay","isLocked","React","className","styles","flex","opacity","undefined","transition","overflow","SidePane","forwardRef","visible","pane","title","onClose","keepMounted","enableBounceAnimation","Object","assign","width","marginLeft","flexShrink","Fragment","onClick","displayName","ZestResponsiveLayout","detailPane","sidePane","sidePaneWidth","desktopSidePaneWidth","mobileBreakpointPx","closeOnDesktopOverlayClick","overlayRef","useRef","setHydrated","useState","useEffect","useIsHydrated","breakpointPx","setIsMobile","handleResize","useCallback","rem","window","parseFloat","getComputedStyle","documentElement","fontSize","innerWidth","addEventListener","removeEventListener","useIsMobile","process","env","NODE_ENV","console","warn","widthRems","finalContent","sideContent","content","callback","active","handleOutsideClick","event","current","contains","target","useOutsideClick","_a","call","showOverlay"],"mappings":"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","x_google_ignoreList":[0]}