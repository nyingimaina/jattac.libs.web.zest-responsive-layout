{"version":3,"file":"ZestResponsiveLayout.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/src/UI/ZestResponsiveLayout.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport styles from \"../Styles/ZestResponsiveLayout.module.css\";\r\n\r\nexport interface IProps {\r\n  sidePane: {\r\n    visible: boolean;\r\n    widthRems?: number;\r\n    pane: React.ReactNode;\r\n    title?: React.ReactNode;\r\n    onClose?: () => void;\r\n  };\r\n  detailPane: React.ReactNode;\r\n  desktopSidePaneWidth?: string;\r\n  enableBounceAnimation?: boolean;\r\n  mobileBreakpointPx?: number;\r\n}\r\n\r\nexport const ZestResponsiveLayout: React.FC<IProps> = ({\r\n  sidePane,\r\n  detailPane,\r\n  desktopSidePaneWidth,\r\n  enableBounceAnimation = true,\r\n  mobileBreakpointPx = 768,\r\n}) => {\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const [hydrated, setHydrated] = useState(false);\r\n  const overlayRef = useRef<HTMLDivElement>(null);\r\n\r\n  const handleResize = () => {\r\n    const rem = parseFloat(getComputedStyle(document.documentElement).fontSize);\r\n    setIsMobile(window.innerWidth / rem <= mobileBreakpointPx / rem);\r\n  };\r\n\r\n  const handleOutsideClick = (e: MouseEvent) => {\r\n    if (\r\n      sidePane.visible &&\r\n      isMobile &&\r\n      overlayRef.current &&\r\n      !overlayRef.current.contains(e.target as Node)\r\n    ) {\r\n      sidePane.onClose?.();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setHydrated(true);\r\n    handleResize();\r\n    window.addEventListener(\"resize\", handleResize);\r\n    document.addEventListener(\"mousedown\", handleOutsideClick);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\r\n    };\r\n  }, [sidePane.visible, isMobile]);\r\n\r\n  const sideWidth = sidePane.widthRems\r\n    ? `${sidePane.widthRems}rem`\r\n    : desktopSidePaneWidth || \"25%\";\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div\r\n        className={styles.detailPane}\r\n        style={{\r\n          flex:\r\n            !isMobile && sidePane.visible\r\n              ? `0 0 calc(100% - ${sideWidth})`\r\n              : \"1 1 100%\",\r\n          opacity: hydrated && !isMobile ? 1 : undefined,\r\n          transition: hydrated\r\n            ? \"flex 250ms ease, opacity 250ms ease\"\r\n            : undefined,\r\n        }}\r\n      >\r\n        {detailPane}\r\n      </div>\r\n\r\n      {sidePane.visible && (\r\n        <div\r\n          ref={overlayRef}\r\n          className={`${styles.sidePane} ${\r\n            isMobile ? styles.mobileOverlay : styles.desktopPane\r\n          } ${enableBounceAnimation && hydrated ? styles.bounce : \"\"}`}\r\n          style={{\r\n            width: isMobile ? \"100%\" : sideWidth,\r\n          }}\r\n        >\r\n          {sidePane.title && (\r\n            <div className={styles.sidePaneHeader}>\r\n              {sidePane.title}\r\n              {sidePane.onClose && (\r\n                <button\r\n                  className={styles.closeButton}\r\n                  onClick={sidePane.onClose}\r\n                >\r\n                  ×\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n          {!sidePane.title && sidePane.onClose && (\r\n            <button className={styles.closeButton} onClick={sidePane.onClose}>\r\n              ×\r\n            </button>\r\n          )}\r\n          <div className={styles.sidePaneContent}>{sidePane.pane}</div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","ZestResponsiveLayout","sidePane","detailPane","desktopSidePaneWidth","enableBounceAnimation","mobileBreakpointPx","isMobile","setIsMobile","useState","hydrated","setHydrated","overlayRef","useRef","handleResize","rem","parseFloat","getComputedStyle","documentElement","fontSize","window","innerWidth","handleOutsideClick","e","visible","current","contains","target","_a","onClose","call","useEffect","addEventListener","removeEventListener","sideWidth","widthRems","React","className","styles","flex","opacity","undefined","transition","width","title","onClick","pane"],"mappings":"6gBAAA,SAAqBA,EAAKC,YACnBA,IAAiBA,EAAM,CAAA,GAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAgC,oBAAbC,SAAnB,CAEA,IAAIC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,QAAQ,GAC9DC,EAAQH,SAASI,cAAc,SACnCD,EAAME,KAAO,WAEI,QAAbN,GACEE,EAAKK,WACPL,EAAKM,aAAaJ,EAAOF,EAAKK,YAKhCL,EAAKO,YAAYL,GAGfA,EAAMM,WACRN,EAAMM,WAAWC,QAAUb,EAE3BM,EAAMK,YAAYR,SAASW,eAAed,GAnBW,CAqBzD,gkDCRae,EAAyC,EACpDC,WACAC,aACAC,uBACAC,yBAAwB,EACxBC,qBAAqB,QAErB,MAAOC,EAAUC,GAAeC,GAAS,IAClCC,EAAUC,GAAeF,GAAS,GACnCG,EAAaC,EAAuB,MAEpCC,EAAe,KACnB,MAAMC,EAAMC,WAAWC,iBAAiB5B,SAAS6B,iBAAiBC,UAClEX,EAAYY,OAAOC,WAAaN,GAAOT,EAAqBS,IAGxDO,EAAsBC,UAExBrB,EAASsB,SACTjB,GACAK,EAAWa,UACVb,EAAWa,QAAQC,SAASH,EAAEI,UAEf,QAAhBC,EAAA1B,EAAS2B,eAAO,IAAAD,GAAAA,EAAAE,KAAA5B,KAIpB6B,EAAU,KACRpB,GAAY,GACZG,IACAM,OAAOY,iBAAiB,SAAUlB,GAClCzB,SAAS2C,iBAAiB,YAAaV,GAChC,KACLF,OAAOa,oBAAoB,SAAUnB,GACrCzB,SAAS4C,oBAAoB,YAAaX,KAE3C,CAACpB,EAASsB,QAASjB,IAEtB,MAAM2B,EAAYhC,EAASiC,UACvB,GAAGjC,EAASiC,eACZ/B,GAAwB,MAE5B,OACEgC,EAAA3C,cAAA,MAAA,CAAK4C,UAAWC,GACdF,EAAA3C,cAAA,MAAA,CACE4C,UAAWC,EACX9C,MAAO,CACL+C,MACGhC,GAAYL,EAASsB,QAClB,mBAAmBU,KACnB,WACNM,QAAS9B,IAAaH,EAAW,OAAIkC,EACrCC,WAAYhC,EACR,2CACA+B,IAGLtC,GAGFD,EAASsB,SACRY,uBACEjD,IAAKyB,EACLyB,UAAW,GAAGC,KACZ/B,EAAW+B,EAAuBA,KAChCjC,GAAyBK,EAAW4B,EAAgB,KACxD9C,MAAO,CACLmD,MAAOpC,EAAW,OAAS2B,IAG5BhC,EAAS0C,OACRR,uBAAKC,UAAWC,GACbpC,EAAS0C,MACT1C,EAAS2B,SACRO,EAAA3C,cAAA,SAAA,CACE4C,UAAWC,EACXO,QAAS3C,EAAS2B,SAAO,OAO/B3B,EAAS0C,OAAS1C,EAAS2B,SAC3BO,EAAA3C,cAAA,SAAA,CAAQ4C,UAAWC,EAAoBO,QAAS3C,EAAS2B,SAAO,KAIlEO,EAAA3C,cAAA,MAAA,CAAK4C,UAAWC,GAAyBpC,EAAS4C","x_google_ignoreList":[0]}